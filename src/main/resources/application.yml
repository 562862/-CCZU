server:
  port: 8888

spring:
  # 默认使用 H2 内嵌数据库，数据文件存储在用户目录下
  datasource:
    url: jdbc:h2:file:${user.home}/.cczu-wuxin/data;MODE=MySQL;AUTO_SERVER=TRUE;DB_CLOSE_DELAY=-1
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # H2 自动建表（always：文件型 H2 也需要初始化；schema.sql 使用 IF NOT EXISTS 保证幂等）
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql

  # H2 控制台（调试用，可通过浏览器访问 /h2-console）
  h2:
    console:
      enabled: true
      path: /h2-console

  # 邮件配置 — 默认关闭
  # 若要启用邮件通知，编辑用户目录下的 .cczu-wuxin/config.yml

  # 加载外部配置文件（用户可覆盖邮件等设置）
  config:
    import: optional:file:${user.home}/.cczu-wuxin/config.yml

mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.cczu.wuxin.entity
  configuration:
    map-underscore-to-camel-case: true

# 自定义配置 — 多源爬虫
app:
  crawler:
    sources:
      - name: 王诤微电子学院
        college: 微电子学院
        base-url: https://jsjx.cczu.edu.cn/21177/list.htm
        pages: 5
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      - name: 材料科学与工程学院
        college: 材料学院
        base-url: https://clxy.cczu.edu.cn/2502/list.htm
        pages: 3
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      - name: 石油化工学院
        college: 石化学院
        base-url: https://che.cczu.edu.cn/2968/list.htm
        pages: 3
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      - name: 环境科学与工程学院
        college: 环境学院
        base-url: https://cmee.cczu.edu.cn/21936/list.htm
        pages: 3
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      - name: 阿里云大数据学院
        college: 大数据学院
        base-url: https://bigdata.cczu.edu.cn/zygg/list.htm
        pages: 3
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      - name: 法学院
        college: 法学院
        base-url: https://zfxy.cczu.edu.cn/tzgg/list.htm
        pages: 3
        selector: "li.news"
        title-selector: "span.news_title a[href]"
        date-selector: "span.news_meta"
      # v1.2 新增：校级职能部门
      - name: 教务处
        college: 教务处
        base-url: https://jwc.cczu.edu.cn/1425/list.htm
        pages: 3
        selector: "tr:has(table)"
        title-selector: "td a[href]"
        date-selector: "td:last-child"
      - name: 校团委
        college: 校团委
        base-url: https://tw.cczu.edu.cn/ggtz/list.htm
        pages: 3
        selector: "li:has(a[href*=page])"
        title-selector: "a[href*=page]"
        date-selector: "div,span"
      - name: 创新创业学院-通知
        college: 创新创业学院
        base-url: https://cxcy.cczu.edu.cn/6900/list.htm
        pages: 3
        selector: "tr:has(table)"
        title-selector: "td a[href]"
        date-selector: "td:last-child"
      - name: 创新创业学院-竞赛
        college: 创新创业学院
        base-url: https://cxcy.cczu.edu.cn/18291/list.htm
        pages: 3
        selector: "tr:has(table)"
        title-selector: "td a[href]"
        date-selector: "td:last-child"
  mail:
    enabled: false
    notify-to:
